api_platform:
  show_webby: false
  keep_legacy_inflector: false
  use_symfony_listeners: true
  formats:
    json: ['application/json']
    html: ['text/html']
    jsonld: ['application/ld+json']
  docs_formats:
    jsonld: ['application/ld+json']
    jsonopenapi: ['application/vnd.openapi+json']
    html: ['text/html']
  mapping:
    paths:
      - '%kernel.project_dir%/src/Http/Api/Resource'
      - '%kernel.project_dir%/config/api/resources.yaml'
      - '%kernel.project_dir%/src/Domain'
  patch_formats:
    json: ['application/merge-patch+json']
  swagger:
    versions: [ 3 ]
  defaults:
    stateless: false
    cache_headers:
      vary: [ 'Content-Type', 'Authorization', 'Origin' ]
    extra_properties:
      standard_put: false
      rfc_7807_compliant_errors: true
    pagination_client_items_per_page: false
  collection:
    pagination:
      items_per_page_parameter_name: count
  mercure:
    enabled: false

when@prod:
  api_platform:
    enable_entrypoint: false
    enable_swagger_ui: false
    enable_docs: false
    formats:
      json: [ 'application/json' ]
      jsonld: [ 'application/ld+json' ]
